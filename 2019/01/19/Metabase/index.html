<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    

    <title>
      Metabase介绍 | Jennie Site to Record 0&amp;1 
    </title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
      <meta name="author" content="Jennie">
    
    

    <meta name="description" content="metabase简介Metabase is the easy, open source way for everyone in your company to ask questions and learn from data.这是官方对metabase的定义，形如其前端设计页面一般简洁。metabase广泛来讲是一款BI工具，其意图是打造一个完整的BI平台，不同于TopBI，其设计理念是非常注重">
<meta property="og:type" content="article">
<meta property="og:title" content="Metabase介绍 | Jennie Site to Record 0&amp;1">
<meta property="og:url" content="http://yoursite.com/2019/01/19/Metabase/index.html">
<meta property="og:site_name" content="Jennie Site to Record 0&amp;1">
<meta property="og:description" content="metabase简介Metabase is the easy, open source way for everyone in your company to ask questions and learn from data.这是官方对metabase的定义，形如其前端设计页面一般简洁。metabase广泛来讲是一款BI工具，其意图是打造一个完整的BI平台，不同于TopBI，其设计理念是非常注重">
<meta property="og:image" content="https://i.imgur.com/Ykhvrg9.gif">
<meta property="og:image" content="https://i.imgur.com/3nk3onI.png">
<meta property="og:image" content="https://i.imgur.com/SR0G3FB.png">
<meta property="og:image" content="https://i.imgur.com/kIQk943.png">
<meta property="og:image" content="https://i.imgur.com/ObC53Tj.png">
<meta property="og:image" content="https://i.imgur.com/R2Cgt8N.gif">
<meta property="og:image" content="https://i.imgur.com/pQSJNJi.gif">
<meta property="og:image" content="https://i.imgur.com/b5rewtU.gif">
<meta property="og:updated_time" content="2019-01-19T04:12:07.232Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Metabase介绍 | Jennie Site to Record 0&amp;1">
<meta name="twitter:description" content="metabase简介Metabase is the easy, open source way for everyone in your company to ask questions and learn from data.这是官方对metabase的定义，形如其前端设计页面一般简洁。metabase广泛来讲是一款BI工具，其意图是打造一个完整的BI平台，不同于TopBI，其设计理念是非常注重">
<meta name="twitter:image" content="https://i.imgur.com/Ykhvrg9.gif">
    
    
    
      <link rel="icon" type="image/x-icon" href="/favicon.png">
    
    <link rel="stylesheet" href="/css/uno.css">
    <link rel="stylesheet" href="/css/highlight.css">
    <link rel="stylesheet" href="/css/archive.css">
    <link rel="stylesheet" href="/css/china-social-icon.css">

</head>
<body>

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    

<header class="panel-cover panel-cover--collapsed">


  <div class="panel-main">

  
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        

        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage">Jennie Site to Record 0&amp;1</a></h1>
        <hr class="panel-cover__divider" />

        
        <p class="panel-cover__description">
          网站副标题
        </p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />
        

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">

              
                
                <li class="navigation__item"><a href="/#blog" title="" class="blog-button">首页</a></li>
              
                
                <li class="navigation__item"><a href="/about" title="" class="">关于</a></li>
              
                
                <li class="navigation__item"><a href="/archive" title="" class="">归档</a></li>
              

            </ul>
          </nav>

          <!-- ----------------------------
To add a new social icon simply duplicate one of the list items from below
and change the class in the <i> tag to match the desired social network
and then add your link to the <a>. Here is a full list of social network
classes that you can use:

    icon-social-500px
    icon-social-behance
    icon-social-delicious
    icon-social-designer-news
    icon-social-deviant-art
    icon-social-digg
    icon-social-dribbble
    icon-social-facebook
    icon-social-flickr
    icon-social-forrst
    icon-social-foursquare
    icon-social-github
    icon-social-google-plus
    icon-social-hi5
    icon-social-instagram
    icon-social-lastfm
    icon-social-linkedin
    icon-social-medium
    icon-social-myspace
    icon-social-path
    icon-social-pinterest
    icon-social-rdio
    icon-social-reddit
    icon-social-skype
    icon-social-spotify
    icon-social-stack-overflow
    icon-social-steam
    icon-social-stumbleupon
    icon-social-treehouse
    icon-social-tumblr
    icon-social-twitter
    icon-social-vimeo
    icon-social-xbox
    icon-social-yelp
    icon-social-youtube
    icon-social-zerply
    icon-mail

-------------------------------->

<!-- add social info here -->



<nav class="cover-navigation navigation--social">
  <ul class="navigation">

    
      <!-- Github -->
      <li class="navigation__item">
        <a href="https://github.com/JaneLee2" title="Huno on GitHub">
          <i class='icon icon-social-github'></i>
          <span class="label">GitHub</span>
        </a>
      </li>
    

    <!-- China social icon -->
    <!--
    
      <li class="navigation__item">
        <a href="" title="">
          <i class='icon cs-icon-douban'></i>
          <span class="label">Douban</span>
        </a>
      </li>

      <li class="navigation__item">
        <a href="" title="">
          <i class='icon cs-icon-weibo'></i>
          <span class="label">Weibo</span>
        </a>
      </li>

    -->



  </ul>
</nav>



        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner entry">
            

<article class="post-container post-container--single">

  <header class="post-header">
    
    <h1 class="post-title">Metabase介绍</h1>

    

    <div class="post-meta">
      <time datetime="2019-01-19" class="post-meta__date date">2019-01-19</time> 

      <span class="post-meta__tags tags">

          
            <font class="categories">
            &#8226; 分类:
            <a class="categories-link" href="/categories/BI/">BI</a>
            </font>
          

          

      </span>
    </div>
    
    

  </header>

  <section id="post-content" class="article-content post">
    <h1 id="metabase简介"><a href="#metabase简介" class="headerlink" title="metabase简介"></a><a href="https://github.com/metabase/metabase" target="_blank" rel="external">metabase简介</a></h1><p><code>Metabase is the easy, open source way for everyone in your company to ask questions and learn from data.</code><br>这是官方对metabase的定义，形如其前端设计页面一般简洁。metabase广泛来讲是一款BI工具，其意图是打造一个完整的BI平台，不同于TopBI，其设计理念是非常注重非技术人员（如产品经理、市场运营人员等）使用，使他们能自由地探索数据，回答自己的问题。</p>
<h2 id="metabase初体验"><a href="#metabase初体验" class="headerlink" title="metabase初体验"></a>metabase初体验</h2><p><img src="https://i.imgur.com/Ykhvrg9.gif" alt="">   </p>
<p>通过简短的动图感受一下，可见其前端简洁大方，对用户操作很友好。</p>
<h2 id="metabase开源特性"><a href="#metabase开源特性" class="headerlink" title="metabase开源特性"></a>metabase开源特性</h2><h3 id="1-关注度和活跃度"><a href="#1-关注度和活跃度" class="headerlink" title="1.关注度和活跃度"></a>1.关注度和活跃度</h3><p><img src="https://i.imgur.com/3nk3onI.png" alt=""></p>
<ul>
<li>watch数：442   </li>
</ul>
<ul>
<li>star数：10.838K   </li>
</ul>
<ul>
<li>Fork数：1381   </li>
</ul>
<ul>
<li>上月提交数量：132  项目仍在积极开发中，上个月有新增2万多行代码    </li>
</ul>
<ul>
<li>上月PR：12   项目的社区很活跃，项目开发者仍在积极解决问题    </li>
</ul>
<ul>
<li>主力开发者：7   </li>
</ul>
<h3 id="2-技术架构"><a href="#2-技术架构" class="headerlink" title="2.技术架构"></a>2.技术架构</h3><ul>
<li>Metabase的后端是用 Clojure 写的，前端是用 React + Redux 写的单页应用。   </li>
</ul>
<ul>
<li>React + Redux 是目前最流行的前端开发框架之一，Metabase 的系统切分与模块化做得比较出色。</li>
</ul>
<ul>
<li>Metabase 提供完整 API 文档的项目，这使得开发者即使完全不会 Clojure，依然可以凭借丰富的 API 与文档完成许多二次开发。</li>
</ul>
<ul>
<li>Metabase 提供了 Jar 文件，Mac 应用程序，Docker 镜像等方式可以让使用者在本地快速尝试该项目。而在生产环境中，它提供了如何在 AWS、Heroku、Kubernetes 上部署的详尽文档，可谓体贴入微。</li>
</ul>
<h3 id="3-源代码的规模与质量"><a href="#3-源代码的规模与质量" class="headerlink" title="3.源代码的规模与质量"></a>3.源代码的规模与质量</h3><ul>
<li>前端代码行数 28.2k</li>
<li>前端测试代码行数 25.2k</li>
<li>后端代码行数 20.4k</li>
<li>后端测试代码行数 15.0k          </li>
</ul>
<p>源代码规模来看是比较大的，无论前端还是后端的量都会增加阅读的难度。<br>源码的质量可以定量和定性分析，功能代码和测试代码的行数比可以作为一个重要的定量指标。定性分析则是通过阅读源代码，对代码的逻辑调理和可读性做一个主观评估。第三方专家认为metabase的代码质量很高，整体代码结构清晰，模块切分合理，代码整洁度非常高，看起来赏心悦目。</p>
<h2 id="使用介绍"><a href="#使用介绍" class="headerlink" title="使用介绍"></a>使用介绍</h2><p>使用介绍将主要包括支持数据库类型、使用客户、安装和简单使用，深度使用见后续文章   </p>
<h3 id="1-支持的数据库类型"><a href="#1-支持的数据库类型" class="headerlink" title="1.支持的数据库类型"></a>1.支持的数据库类型</h3><ul>
<li>Postgres</li>
<li>MySQL</li>
<li>Druid</li>
<li>SQL Server</li>
<li>Redshift</li>
<li>MongoDB</li>
<li>Google BigQuery</li>
<li>SQLite</li>
<li>H2</li>
<li>CrateDB</li>
<li>Oracle</li>
<li>Vertica</li>
<li>Presto</li>
</ul>
<h3 id="2-客户"><a href="#2-客户" class="headerlink" title="2.客户"></a>2.客户</h3><ul>
<li><a href="https://www.metabase.com/case_studies/alien.ai/" target="_blank" rel="external">Alien.ai</a></li>
<li><a href="https://www.metabase.com/case_studies/anghami.com/" target="_blank" rel="external">Anghami</a></li>
<li><a href="https://www.metabase.com/case_studies/go-jek/" target="_blank" rel="external">GO-JEK</a></li>
<li><a href="https://www.metabase.com/case_studies/n26/" target="_blank" rel="external">N26</a></li>
<li><a href="https://www.metabase.com/case_studies/papercut/" target="_blank" rel="external">PaperCut</a></li>
<li><a href="https://www.metabase.com/case_studies/serenata/" target="_blank" rel="external">Serenata Flowers</a></li>
<li><a href="https://www.metabase.com/case_studies/synq/" target="_blank" rel="external">SYNQ</a></li>
<li><a href="https://www.metabase.com/case_studies/treebo/" target="_blank" rel="external">Treebo Hotels</a></li>
</ul>
<h3 id="3-安装"><a href="#3-安装" class="headerlink" title="3.安装"></a>3.安装</h3><p>此处使用jar包的部署方式，其他部署方式见官方用户文档。  </p>
<pre><code>1. 要求jdk1.8
2. wget http://downloads.metabase.com/v0.29.3/metabase.jar
3. java -jar metabase.jar
</code></pre><p>如果在后台看见日志打印如下则表示部署成功<br><img src="https://i.imgur.com/SR0G3FB.png" alt=""></p>
<h3 id="4-登录"><a href="#4-登录" class="headerlink" title="4.登录"></a>4.登录</h3><pre><code>1.打开http://192.168.21.41:3000
2.配置用户基础信息
3.配置一个数据连接方式，此处我选取了mysql（可先跳过，后续根据需要再配置）
</code></pre><p>经过简单的几步，就可进入到metabase主页，如下图：<br><img src="https://i.imgur.com/kIQk943.png" alt=""><br>其显示的是连接的我需要分析的一个mysql数据库，库里共有4张表，分别是：log_campus_visitors、online_addict_info_by_day、online_types、stu_info，可见metabase已经基于mysql数据库对其中每一个表自动生成了总体感知和一些分布图表。我们点击上图中的“Stu Info table”后呈现的图表如下：<br><img src="https://i.imgur.com/ObC53Tj.png" alt=""><br>由上可见：metadata对stu_info表自动进行了处理，生成一个Major（专业）的全局筛选器，总体感知（记录条数数值）、一些分布图表（统计不同专业记录条数、统计不同班级记录条数）</p>
<h3 id="5-简单使用"><a href="#5-简单使用" class="headerlink" title="5.简单使用"></a>5.简单使用</h3><h4 id="1）连接数据源"><a href="#1）连接数据源" class="headerlink" title="1）连接数据源"></a>1）连接数据源</h4><pre><code>1.点击进入管理员面板
2.点击DataBases菜单进入数据源页面
3.点击Add database新增数据连接方式
4.选择数据源类型mysql
5.编辑mysql连接方式：名称、ip、端口、用户名、密码
6.点击Save，保存数据连接
7.X-ray自动探索数据库的表数据
9.点击其中stu_info表的x-ray结果并保存为新的collection与dashboard
</code></pre><p><img src="https://i.imgur.com/R2Cgt8N.gif" alt=""></p>
<h4 id="2）生成报表嵌入仪表盘"><a href="#2）生成报表嵌入仪表盘" class="headerlink" title="2）生成报表嵌入仪表盘"></a>2）生成报表嵌入仪表盘</h4><pre><code>1.打开刚才保存的dashborad
2.编辑dashbord的名称并保存
3.点击New Question -&gt; Metrics（以指标方式探索报表）
4.选择需要分析的指标 用户数进行分析
5.编辑过滤器、聚合，点击Refresh刷新数据
6.选择合适的图形呈现方式，点击SAVE保存报表
7.编辑报表的名称、描述、需要归总的collection等信息，点击save
8.点击“Yes please！”添加报表到dashboard
9.点击“我们一起探索”仪表盘，点击Save保存仪表盘的编辑
10.点击New Question -&gt; Custom（以数据表方式探索报表）
11.选择需要探索的数据源和报表
12.重复步骤5-9
13.点击New Question -&gt; Native query（以自定义sql方式探索报表）
14.选择需要探索的数据源
15.编辑sql和想设立的筛选器设置
16.点击Get Answer获得数据可视化
17.重复步骤6-9
18.进入dashboard编辑模式，点击筛选器Major的edit进入编辑模式
19.选择刚新添加的三个报表select选择对应的筛选器
20.点击Done，Save保存筛选器和dashboard
</code></pre><p><img src="https://i.imgur.com/pQSJNJi.gif" alt=""></p>
<h4 id="3）分享仪表盘"><a href="#3）分享仪表盘" class="headerlink" title="3）分享仪表盘"></a>3）分享仪表盘</h4><pre><code>1.打开刚才保存的dashboard
2.点击右上角分享按钮进入分享页面
3.开启分享功能
5.复制Public link到浏览器打开或者分享给盆友
6.链接尾部可进行参数配置如颜色主题等
7.前端嵌入代码参考Public embed
</code></pre><p><img src="https://i.imgur.com/b5rewtU.gif" alt=""></p>
<h3 id="6-特性总结"><a href="#6-特性总结" class="headerlink" title="6.特性总结"></a>6.特性总结</h3><ul>
<li>1）应用数据库默认是H2，但可配置成其他数据库，比如mysql等</li>
<li>2）支持数据连接加密，保证数据库的安全性</li>
<li>3）支持时区设置</li>
<li>4）管理员用户：添加团队成员、连接其他数据库、配置元数据库设置等</li>
<li>5) 控制数据数据schema和缓存刷新时间  </li>
<li>6）新增计算筛选、计算度量</li>
<li>7）报表可以放入报表集合（collection）或者dashboard（主题）</li>
<li>8）支持自定义sql与筛选器</li>
<li>9）dashborad筛选器支持自定义，markdown格式文本等</li>
<li>10）发布与嵌入第三方</li>
<li>11）LDAP认证对接</li>
<li>12）用户管理和权限管理</li>
</ul>
<h3 id="7-用户"><a href="#7-用户" class="headerlink" title="7.用户"></a>7.用户</h3><ul>
<li><p>管理员：<br>  1）增删查改数据连接<br>  2）配置和发送邮件<br>  3）增删查改及隐藏元数据信息<br>  4）管理用户和用户组且可以为用户分配用户组，权限对应于用户组。<br>  5）设置数据权限<br>  6）设置编辑collection<br>  7）增删查改筛选条件（Segment)和聚合(Metric)<br>  8) 查改字段名称<br>  9）与知名聊天软件slack构建连接，建立API来往<br>  10）Google Sign-In或者LDAP认证对接<br>  11）<a href="http://192.168.21.41:3000/public/dashboard/26d1c576-fbc7-4fed-82fd-380120033d8d" target="_blank" rel="external">分享与嵌入功能</a> (<a href="http://192.168.21.41:3000/public/dashboard/26d1c576-fbc7-4fed-82fd-380120033d8d#fullscreen&amp;theme=night" target="_blank" rel="external">黑夜主题</a>)<br>  12）缓存设置</p>
</li>
<li><p>普通用户</p>
</li>
</ul>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p>1.<a href="https://github.com/metabase/metabase" target="_blank" rel="external">官方github</a><br>2.叶剑烨 <a href="https://zhuanlan.zhihu.com/p/33164124" target="_blank" rel="external">数据可视化的开源方案: Superset vs Redash vs Metabase </a>，尊重原创，此文前面部分摘录了叶先生文章。     </p>

  </section>

  <section class="post-comments">

    <!-- 将评论系统（例如Disqus、多说、友言、畅言等）提供的代码片段粘贴在这里 -->
    
</section>


</article>


            <footer class="footer">

    <span class="footer__copyright">&copy; 2014-2015. | 由<a href="https://hexo.io/">Hexo</a>强力驱动 | 主题<a href="https://github.com/someus/huno">Huno</a></span>
    
</footer>
        </div>
    </div>

    <!-- js files -->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/scale.fix.js"></script>
    

    

    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript"> 
        $(document).ready(function(){
            MathJax.Hub.Config({ 
                tex2jax: {inlineMath: [['[latex]','[/latex]'], ['\\(','\\)']]} 
            });
        });
    </script>


    

    <script src="/js/awesome-toc.min.js"></script>
    <script>
        $(document).ready(function(){
            $.awesome_toc({
                overlay: true,
                contentId: "post-content",
            });
        });
    </script>


    
    
    <!--kill ie6 -->
<!--[if IE 6]>
  <script src="//letskillie6.googlecode.com/svn/trunk/2/zh_CN.js"></script>
<![endif]-->

</body>
</html>
